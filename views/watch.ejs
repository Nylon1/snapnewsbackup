<!DOCTYPE html>
<html lang="en">
<head>
<!-- Essential Meta Tags -->
<title><%= video.title %> | SnapShnap</title>
<meta name="description" content="<%= video.description || 'Watch and share news instantly on SnapShnap.' %>">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="video.other" />
<meta property="og:url" content="https://www.snapshnap.com/watch/<%= video.friendly_token %>" />
<meta property="og:title" content="<%= video.title %>" />
<meta property="og:description" content="<%= video.description || 'Watch and share news instantly on SnapShnap.' %>" />
<meta property="og:image" content="<%= video.thumbnail_url && video.thumbnail_url.startsWith('http') ? video.thumbnail_url : ('https://mediacms-cw-u46015.vm.elestio.app' + video.thumbnail_url) %>" />
<meta property="og:image:alt" content="<%= video.title %>" />
<meta property="og:video" content="<%= videoUrl %>" />
<meta property="og:video:type" content="video/mp4" />
<meta property="og:video:width" content="640" />
<meta property="og:video:height" content="360" />

<!-- Twitter Card -->
<meta name="twitter:card" content="player" />
<meta name="twitter:url" content="https://www.snapshnap.com/watch/<%= video.friendly_token %>" />
<meta name="twitter:title" content="<%= video.title %>" />
<meta name="twitter:description" content="<%= video.description || 'Watch and share news instantly on SnapShnap.' %>" />
<meta name="twitter:image" content="<%= video.thumbnail_url && video.thumbnail_url.startsWith('http') ? video.thumbnail_url : ('https://mediacms-cw-u46015.vm.elestio.app' + video.thumbnail_url) %>" />
<meta name="twitter:player" content="<%= videoUrl %>" />
<meta name="twitter:player:width" content="640" />
<meta name="twitter:player:height" content="360" />

<!-- WhatsApp & iMessage use the same OG tags above -->

<!-- Fallback for legacy -->
<link rel="image_src" href="<%= video.thumbnail_url && video.thumbnail_url.startsWith('http') ? video.thumbnail_url : ('https://mediacms-cw-u46015.vm.elestio.app' + video.thumbnail_url) %>" />

 
  <title><%= video.title %> | SnapShnap</title>
  <!-- ...meta tags unchanged... -->
 <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes glow {
      0%, 100% { opacity: 0.72; filter: blur(16px);}
      50%      { opacity: 1; filter: blur(32px);}
    }
    .animate-glow {
      animation: glow 2.8s infinite alternate cubic-bezier(.4,2.2,.3,1);
    }
    @keyframes cardpop {
      0%   { transform: scale(1);}
      50%  { transform: scale(1.025);}
      100% { transform: scale(1);}
    }
    .animate-glow-card {
      animation: cardpop 2.8s infinite alternate cubic-bezier(.4,2.2,.3,1);
    }
  </style>
</head>
<body class="bg-black text-white min-h-screen flex flex-col items-center justify-center">

<%
  // (Your video selection JS as before)
%>

<div class="flex min-h-screen items-center justify-center bg-black">
  <div class="relative bg-[#191e2c] p-7 rounded-3xl max-w-lg w-full shadow-2xl flex flex-col items-center 
              animate-glow-card border-2 border-yellow-400 group transition-all duration-300 overflow-hidden">

    <!-- Animated Glowing Ring -->
    <div class="absolute -inset-2 rounded-3xl z-0 blur-xl opacity-80
                bg-gradient-to-br from-yellow-400/80 via-yellow-400/20 to-yellow-500/90
                animate-glow"></div>

    <!-- Video -->
    <video
      class="relative z-10 rounded-2xl shadow-lg border-2 border-yellow-300 group-hover:scale-105 transition-all duration-200"
      src="<%= videoUrl %>" controls autoplay poster="<%= thumbUrl %>">
      Sorry, your browser doesn't support embedded videos.
    </video>

    <!-- Content -->
    <div class="relative z-10 w-full mt-5 flex flex-col items-center">
      <h2 class="text-xl font-bold text-yellow-400 mb-1 text-center drop-shadow"><%= video.title || 'Untitled Snap' %></h2>
      <div class="text-gray-300 text-sm mb-2 text-center">
        Uploaded by <span class="font-semibold"><%= video.user?.username || video.user || 'Anonymous' %></span>
        · <%= new Date(video.created_at).toLocaleString() %>
      </div>
      <% if (video.description) { %>
        <div class="mb-3 text-gray-200 text-center"><%= video.description %></div>
      <% } %>
      <div class="text-xs text-yellow-400 mb-4">#snapnews</div>
      <a href="/feed" class="bg-yellow-400 text-black px-4 py-2 rounded font-semibold hover:bg-yellow-300 transition">← Back to Feed</a>
    </div>
  </div>
</div>
</body>
</html>

